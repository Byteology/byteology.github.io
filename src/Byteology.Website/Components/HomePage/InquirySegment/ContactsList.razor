@using Byteology.Website.Data.Models.HomePage.InquirySegment

@inherits ByteologyComponent

<div @attributes=AdditionalAttributes
     class="grid grid-cols-[max-content_1fr] auto-rows-max gap-x-8 items-baseline
            md:flex md:flex-col md:gap-y-4 
            @CssClass">
        
    @foreach(ContactModel contact in Contacts)
    {
        <div class="contents md:flex md:flex-col">

            @for (int i = 0; i < contact.Details.Length; i++)
            {
                @if (i == 0)
                {
                    <p class="col-start-1 md:order-[-2]
                              text-emph font-bold">
                        @contact.Name
                    </p>
                }

                @if (i == 1)
                {
                    <p class="col-start-1 md:order-[-1] md:mb-2
                              text-footnote font-bold">
                        @contact.Title
                    </p>
                }

                <ContactDetail 
                    Model="contact.Details[i]" 
                    class="col-start-2" />
            }

            @if(contact != Contacts.Last())
            {
                <div class="md:hidden w-1 h-4 col-span-2"></div>
            }

        </div>
    }

</div>

@code {
    [Parameter, Required, MinLength(1)]
    public ContactModel[] Contacts { get; set; } = default!;
}