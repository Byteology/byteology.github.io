@using Microsoft.AspNetCore.Components.Forms

@inherits InputTextArea

<div @attributes=AdditionalAttributes class=@Class>
    <label for="@_id" class="font-bold text-detail">@Label</label>

    <div 
        class="
            grid mt-2
            after:whitespace-pre-wrap after:invisible after:pl-4
            after:row-start-1 after:row-end-2 after:col-start-1 after:col-end-1
            after:text-detail
            after:border-b-2 after:border-solid 
            after:content-[attr(data-replicated-value)_'_']"
        data-replicated-value=@_value >

        <textarea 
            @bind="CurrentValueAsString"
            @bind:event="onchange"
            @oninput="onValueChanged"
            id="@_id"
            placeholder="@Placeholder"
            rows="1"
            class="
                resize-none overflow-hidden pl-4
                transition-normal
                row-start-1 row-end-2 col-start-1 col-end-1
                bg-transparent text-detail
                border-b-2 border-solid border-active
                placeholder:italic placeholder:text-backdrop-fg-inactive
                hover:border-active-hover
                invalid:border-error
                focus:!border-active-hover @CssClass" />

    </div>
</div>
